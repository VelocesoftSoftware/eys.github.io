{"ast":null,"code":"import{useEffect,useMemo,useState}from'react';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import L from'leaflet';import tileLayer from'../util/tileLayer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const center=[52.22977,21.01178];const points=[{lat:52.230020586193795,lng:21.01083755493164,title:'point 1'},{lat:52.22924516170657,lng:21.011320352554325,title:'point 2'},{lat:52.229511304688444,lng:21.01270973682404,title:'point 3'},{lat:52.23040500771883,lng:21.012146472930908,title:'point 4'}];const MapWrapper=()=>{const[map,setMap]=useState(null);const[text,setText]=useState(null);useEffect(()=>{if(!map)return;const legend=L.control({position:\"bottomleft\"});legend.onAdd=()=>{const div=L.DomUtil.create(\"div\",\"legend\");div.innerHTML=\"click marker, move\";setText(div);return div;};legend.addTo(map);},[map]);const eventHandlers=useMemo(()=>({dragend(e){text.innerHTML=e.target.getLatLng();}}),[text]);return/*#__PURE__*/_jsxs(MapContainer,{whenCreated:setMap,center:center,zoom:18,scrollWheelZoom:false,children:[/*#__PURE__*/_jsx(TileLayer,{...tileLayer}),points.map((_ref,index)=>{let{lat,lng,title}=_ref;return/*#__PURE__*/_jsx(Marker,{eventHandlers:eventHandlers,draggable:true,autoPan:true,position:[lat,lng],children:/*#__PURE__*/_jsx(Popup,{children:title})},index);})]});};export default MapWrapper;","map":{"version":3,"names":["useEffect","useMemo","useState","MapContainer","TileLayer","Marker","Popup","L","tileLayer","jsx","_jsx","jsxs","_jsxs","center","points","lat","lng","title","MapWrapper","map","setMap","text","setText","legend","control","position","onAdd","div","DomUtil","create","innerHTML","addTo","eventHandlers","dragend","e","target","getLatLng","whenCreated","zoom","scrollWheelZoom","children","_ref","index","draggable","autoPan"],"sources":["/Users/berkanium/Desktop/eys-react-leaflet/src/pages/dragable-markers.js"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport tileLayer from '../util/tileLayer';\n\nconst center = [52.22977, 21.01178];\n\nconst points = [\n  {\n    lat: 52.230020586193795,\n    lng: 21.01083755493164,\n    title: 'point 1'\n  },\n  {\n    lat: 52.22924516170657,\n    lng: 21.011320352554325,\n    title: 'point 2'\n  },\n  {\n    lat: 52.229511304688444,\n    lng: 21.01270973682404,\n    title: 'point 3'\n  },\n  {\n    lat: 52.23040500771883,\n    lng: 21.012146472930908,\n    title: 'point 4'\n  },\n];\n\nconst MapWrapper = () => {\n  const [map, setMap] = useState(null);\n  const [text, setText] = useState(null)\n\n  useEffect(() => {\n    if (!map) return;\n\n    const legend = L.control({ position: \"bottomleft\" });\n\n    legend.onAdd = () => {\n      const div = L.DomUtil.create(\"div\", \"legend\");\n      div.innerHTML = `click marker, move`;\n      setText(div);\n      return div;\n    };\n\n    legend.addTo(map);\n\n  }, [map]);\n\n  const eventHandlers = useMemo(() => ({\n    dragend(e) {\n      text.innerHTML = e.target.getLatLng();\n    },\n  }), [text])\n\n  return (\n    <MapContainer\n      whenCreated={setMap}\n      center={center}\n      zoom={18}\n      scrollWheelZoom={false}\n    >\n\n      <TileLayer {...tileLayer} />\n\n      {points.map(({ lat, lng, title }, index) => (\n        <Marker\n          eventHandlers={eventHandlers}\n          key={index}\n          draggable={true}\n          autoPan={true}\n          position={[lat, lng]}\n        >\n          <Popup>{title}</Popup>\n        </Marker>\n      ))}\n\n    </MapContainer>\n  )\n}\n\nexport default MapWrapper;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CACpD,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CACtE,MAAO,CAAAC,CAAC,KAAM,SAAS,CACvB,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,MAAM,CAAG,CAAC,QAAQ,CAAE,QAAQ,CAAC,CAEnC,KAAM,CAAAC,MAAM,CAAG,CACb,CACEC,GAAG,CAAE,kBAAkB,CACvBC,GAAG,CAAE,iBAAiB,CACtBC,KAAK,CAAE,SACT,CAAC,CACD,CACEF,GAAG,CAAE,iBAAiB,CACtBC,GAAG,CAAE,kBAAkB,CACvBC,KAAK,CAAE,SACT,CAAC,CACD,CACEF,GAAG,CAAE,kBAAkB,CACvBC,GAAG,CAAE,iBAAiB,CACtBC,KAAK,CAAE,SACT,CAAC,CACD,CACEF,GAAG,CAAE,iBAAiB,CACtBC,GAAG,CAAE,kBAAkB,CACvBC,KAAK,CAAE,SACT,CAAC,CACF,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAEtCF,SAAS,CAAC,IAAM,CACd,GAAI,CAACmB,GAAG,CAAE,OAEV,KAAM,CAAAI,MAAM,CAAGhB,CAAC,CAACiB,OAAO,CAAC,CAAEC,QAAQ,CAAE,YAAa,CAAC,CAAC,CAEpDF,MAAM,CAACG,KAAK,CAAG,IAAM,CACnB,KAAM,CAAAC,GAAG,CAAGpB,CAAC,CAACqB,OAAO,CAACC,MAAM,CAAC,KAAK,CAAE,QAAQ,CAAC,CAC7CF,GAAG,CAACG,SAAS,qBAAuB,CACpCR,OAAO,CAACK,GAAG,CAAC,CACZ,MAAO,CAAAA,GAAG,CACZ,CAAC,CAEDJ,MAAM,CAACQ,KAAK,CAACZ,GAAG,CAAC,CAEnB,CAAC,CAAE,CAACA,GAAG,CAAC,CAAC,CAET,KAAM,CAAAa,aAAa,CAAG/B,OAAO,CAAC,KAAO,CACnCgC,OAAOA,CAACC,CAAC,CAAE,CACTb,IAAI,CAACS,SAAS,CAAGI,CAAC,CAACC,MAAM,CAACC,SAAS,CAAC,CAAC,CACvC,CACF,CAAC,CAAC,CAAE,CAACf,IAAI,CAAC,CAAC,CAEX,mBACET,KAAA,CAACT,YAAY,EACXkC,WAAW,CAAEjB,MAAO,CACpBP,MAAM,CAAEA,MAAO,CACfyB,IAAI,CAAE,EAAG,CACTC,eAAe,CAAE,KAAM,CAAAC,QAAA,eAGvB9B,IAAA,CAACN,SAAS,KAAKI,SAAS,CAAG,CAAC,CAE3BM,MAAM,CAACK,GAAG,CAAC,CAAAsB,IAAA,CAAsBC,KAAK,OAA1B,CAAE3B,GAAG,CAAEC,GAAG,CAAEC,KAAM,CAAC,CAAAwB,IAAA,oBAC9B/B,IAAA,CAACL,MAAM,EACL2B,aAAa,CAAEA,aAAc,CAE7BW,SAAS,CAAE,IAAK,CAChBC,OAAO,CAAE,IAAK,CACdnB,QAAQ,CAAE,CAACV,GAAG,CAAEC,GAAG,CAAE,CAAAwB,QAAA,cAErB9B,IAAA,CAACJ,KAAK,EAAAkC,QAAA,CAAEvB,KAAK,CAAQ,CAAC,EALjByB,KAMC,CAAC,EACV,CAAC,EAEU,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAxB,UAAU"},"metadata":{},"sourceType":"module"}