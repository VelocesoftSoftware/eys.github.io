{"version":3,"sources":["../node_modules/react-leaflet/esm/ZoomControl.js","pages/fitBounds-with-padding.module.css","pages/fitBounds-with-padding.js","../node_modules/@react-leaflet/core/esm/pane.js","../node_modules/@react-leaflet/core/esm/events.js","../node_modules/@react-leaflet/core/esm/layer.js","../node_modules/@react-leaflet/core/esm/attribution.js","../node_modules/@react-leaflet/core/esm/component.js","../node_modules/@react-leaflet/core/esm/path.js","../node_modules/@react-leaflet/core/esm/element.js","../node_modules/@react-leaflet/core/esm/control.js","../node_modules/@react-leaflet/core/esm/div-overlay.js","util/tileLayer.js","../node_modules/@react-leaflet/core/esm/generic.js","../node_modules/@react-leaflet/core/esm/grid-layer.js","../node_modules/react-leaflet/esm/TileLayer.js","../node_modules/react-leaflet/esm/Popup.js","../node_modules/react-leaflet/esm/Marker.js"],"names":["ZoomControl","createControlComponent","props","Control","Zoom","module","exports","center","MapWrapper","infoRef","useRef","map","setMap","useState","useEffect","ref","current","offsetWidth","visibleMarkers","eachLayer","layer","L","Marker","push","featureGroup","getBounds","handleResize","fitBounds","paddingTopLeft","window","addEventListener","_","removeEventListener","_jsxs","className","styles","wrapper","children","_jsx","info","MapContainer","whenCreated","zoom","zoomControl","scrollWheelZoom","position","TileLayer","tileLayer","Popup","withPane","context","_props$pane","pane","useEventHandlers","element","eventHandlers","eventHandlersRef","instance","on","off","useLayerLifecycle","_context$layerContain2","layerContainer","addLayer","_context$layerContain","removeLayer","createLayerHook","useElement","useLeafletContext","elementRef","useAttribution","attribution","attributionRef","attributionControl","removeAttribution","addAttribution","createContainerComponent","ContainerComponent","useImperativeHandle","React","createElement","LeafletProvider","value","forwardRef","createDivOverlayComponent","OverlayComponent","isOpen","setOpen","update","contentNode","_contentNode","createPortal","createLeafComponent","LeafComponent","usePathOptions","optionsRef","pathOptions","_props$pathOptions","options","setStyle","createPathHook","createElementHook","updateElement","propsRef","createControlHook","positionRef","addTo","remove","setPosition","createDivOverlayHook","useLifecycle","url","createInstance","useControl","createLayerComponent","useLayer","createOverlayComponent","useOverlay","createPathComponent","usePath","createTileLayerComponent","updateGridLayer","prevProps","opacity","zIndex","setOpacity","setZIndex","_ref","LeafletTileLayer","LeafletPopup","overlayContainer","onClose","onOpen","onPopupOpen","event","popup","onPopupClose","popupopen","popupclose","setLatLng","openOn","bindPopup","_context$overlayConta","unbindPopup","ctx","LeafletMarker","marker","icon","setIcon","zIndexOffset","setZIndexOffset","dragging","draggable","enable","disable"],"mappings":"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","file":"static/js/pages-fitBounds-with-padding-js.90a9ef67.chunk.js","sourcesContent":["import { createControlComponent } from '@react-leaflet/core';\nimport { Control } from 'leaflet';\nexport const ZoomControl = createControlComponent(function createZoomControl(props) {\n  return new Control.Zoom(props);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"fitBounds-with-padding_wrapper__1-zUZ\",\"info\":\"fitBounds-with-padding_info__2WS05\"};","import { useRef, useState, useEffect } from \"react\";\nimport {\n  MapContainer,\n  TileLayer,\n  ZoomControl,\n  Marker,\n  Popup,\n} from \"react-leaflet\";\nimport L from \"leaflet\";\nimport styles from \"./fitBounds-with-padding.module.css\";\nimport tileLayer from \"../util/tileLayer\";\n\nconst center = [52.22977, 21.01178];\n\nconst infoText =\n  \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati a deserunt distinctio vitae! Dolores officiis animi ab ut officia consequuntur fuga, possimus et eligendi, facilis libero nulla repellat modi magnam!\";\n\nconst MapWrapper = () => {\n  const infoRef = useRef(0);\n  const [map, setMap] = useState(null);\n\n  useEffect(() => {\n    if (!map) return;\n\n    const ref = infoRef.current.offsetWidth;\n\n    const visibleMarkers = [];\n    map.eachLayer((layer) => {\n      if (layer instanceof L.Marker) {\n        visibleMarkers.push(layer);\n      }\n    });\n\n    const featureGroup = L.featureGroup(visibleMarkers).getBounds();\n\n    function handleResize() {\n      map.fitBounds(featureGroup, {\n        paddingTopLeft: [ref + 10, 10],\n      });\n    }\n\n    handleResize();\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return (_) => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [map]);\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.info} ref={infoRef}>\n        {infoText}\n      </div>\n      <MapContainer\n        whenCreated={setMap}\n        center={center}\n        zoom={18}\n        zoomControl={false}\n        scrollWheelZoom={false}\n      >\n        <ZoomControl position={\"topright\"} />\n\n        <TileLayer {...tileLayer} />\n\n        <Marker position={center}>\n          <Popup>Center Warsaw</Popup>\n        </Marker>\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default MapWrapper;\n","export function withPane(props, context) {\n  const pane = props.pane ?? context.pane;\n  return pane ? { ...props,\n    pane\n  } : props;\n}","import { useEffect, useRef } from 'react';\nexport function useEventHandlers(element, eventHandlers) {\n  const eventHandlersRef = useRef();\n  useEffect(function addEventHandlers() {\n    if (eventHandlers != null) {\n      element.instance.on(eventHandlers);\n    }\n\n    eventHandlersRef.current = eventHandlers;\n    return function removeEventHandlers() {\n      if (eventHandlersRef.current != null) {\n        element.instance.off(eventHandlersRef.current);\n      }\n\n      eventHandlersRef.current = null;\n    };\n  }, [element, eventHandlers]);\n}","import { useEffect } from 'react';\nimport { useAttribution } from './attribution';\nimport { useLeafletContext } from './context';\nimport { useEventHandlers } from './events';\nimport { withPane } from './pane';\nexport function useLayerLifecycle(element, context) {\n  useEffect(function addLayer() {\n    const container = context.layerContainer ?? context.map;\n    container.addLayer(element.instance);\n    return function removeLayer() {\n      var _context$layerContain;\n\n      (_context$layerContain = context.layerContainer) == null ? void 0 : _context$layerContain.removeLayer(element.instance);\n      context.map.removeLayer(element.instance);\n    };\n  }, [context, element]);\n}\nexport function createLayerHook(useElement) {\n  return function useLayer(props) {\n    const context = useLeafletContext();\n    const elementRef = useElement(withPane(props, context), context);\n    useAttribution(context.map, props.attribution);\n    useEventHandlers(elementRef.current, props.eventHandlers);\n    useLayerLifecycle(elementRef.current, context);\n    return elementRef;\n  };\n}","import { useEffect, useRef } from 'react';\nexport function useAttribution(map, attribution) {\n  const attributionRef = useRef(attribution);\n  useEffect(function updateAttribution() {\n    if (attribution !== attributionRef.current && map.attributionControl != null) {\n      if (attributionRef.current != null) {\n        map.attributionControl.removeAttribution(attributionRef.current);\n      }\n\n      if (attribution != null) {\n        map.attributionControl.addAttribution(attribution);\n      }\n    }\n\n    attributionRef.current = attribution;\n  }, [map, attribution]);\n}","import React, { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { LeafletProvider } from './context';\nexport function createContainerComponent(useElement) {\n  function ContainerComponent(props, ref) {\n    const {\n      instance,\n      context\n    } = useElement(props).current;\n    useImperativeHandle(ref, () => instance);\n    return props.children == null ? null : /*#__PURE__*/React.createElement(LeafletProvider, {\n      value: context\n    }, props.children);\n  }\n\n  return /*#__PURE__*/forwardRef(ContainerComponent);\n}\nexport function createDivOverlayComponent(useElement) {\n  function OverlayComponent(props, ref) {\n    const [isOpen, setOpen] = useState(false);\n    const {\n      instance\n    } = useElement(props, setOpen).current;\n    useImperativeHandle(ref, () => instance);\n    useEffect(function updateOverlay() {\n      if (isOpen) {\n        instance.update();\n      }\n    }, [instance, isOpen, props.children]); // @ts-ignore _contentNode missing in type definition\n\n    const contentNode = instance._contentNode;\n    return contentNode ? /*#__PURE__*/createPortal(props.children, contentNode) : null;\n  }\n\n  return /*#__PURE__*/forwardRef(OverlayComponent);\n}\nexport function createLeafComponent(useElement) {\n  function LeafComponent(props, ref) {\n    const {\n      instance\n    } = useElement(props).current;\n    useImperativeHandle(ref, () => instance);\n    return null;\n  }\n\n  return /*#__PURE__*/forwardRef(LeafComponent);\n}","import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context';\nimport { useEventHandlers } from './events';\nimport { useLayerLifecycle } from './layer';\nimport { withPane } from './pane';\nexport function usePathOptions(element, props) {\n  const optionsRef = useRef();\n  useEffect(function updatePathOptions() {\n    if (props.pathOptions !== optionsRef.current) {\n      const options = props.pathOptions ?? {};\n      element.instance.setStyle(options);\n      optionsRef.current = options;\n    }\n  }, [element, props]);\n}\nexport function createPathHook(useElement) {\n  return function usePath(props) {\n    const context = useLeafletContext();\n    const elementRef = useElement(withPane(props, context), context);\n    useEventHandlers(elementRef.current, props.eventHandlers);\n    useLayerLifecycle(elementRef.current, context);\n    usePathOptions(elementRef.current, props);\n    return elementRef;\n  };\n}","import { useEffect, useRef } from 'react';\nexport function createElementHook(createElement, updateElement) {\n  if (updateElement == null) {\n    return function useImmutableLeafletElement(props, context) {\n      return useRef(createElement(props, context));\n    };\n  }\n\n  return function useMutableLeafletElement(props, context) {\n    const elementRef = useRef(createElement(props, context));\n    const propsRef = useRef(props);\n    const {\n      instance\n    } = elementRef.current;\n    useEffect(function updateElementProps() {\n      if (propsRef.current !== props) {\n        updateElement(instance, props, propsRef.current);\n        propsRef.current = props;\n      }\n    }, [instance, props, context]);\n    return elementRef;\n  };\n}","import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context';\nexport function createControlHook(useElement) {\n  return function useLeafletControl(props) {\n    const context = useLeafletContext();\n    const elementRef = useElement(props, context);\n    const {\n      instance\n    } = elementRef.current;\n    const positionRef = useRef(props.position);\n    const {\n      position\n    } = props;\n    useEffect(function addControl() {\n      instance.addTo(context.map);\n      return function removeControl() {\n        instance.remove();\n      };\n    }, [context.map, instance]);\n    useEffect(function updateControl() {\n      if (position != null && position !== positionRef.current) {\n        instance.setPosition(position);\n        positionRef.current = position;\n      }\n    }, [instance, position]);\n    return elementRef;\n  };\n}","import { useAttribution } from './attribution';\nimport { useLeafletContext } from './context';\nimport { useEventHandlers } from './events';\nimport { withPane } from './pane';\nexport function createDivOverlayHook(useElement, useLifecycle) {\n  return function useDivOverlay(props, setOpen) {\n    const context = useLeafletContext();\n    const elementRef = useElement(withPane(props, context), context);\n    useAttribution(context.map, props.attribution);\n    useEventHandlers(elementRef.current, props.eventHandlers);\n    useLifecycle(elementRef.current, context, props, setOpen);\n    return elementRef;\n  };\n}","const tileLayer = {\n  attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n  url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n}\n\nexport default tileLayer;","import { createContainerComponent, createDivOverlayComponent, createLeafComponent } from './component';\nimport { createControlHook } from './control';\nimport { createElementHook } from './element';\nimport { createLayerHook } from './layer';\nimport { createDivOverlayHook } from './div-overlay';\nimport { createPathHook } from './path';\nexport function createControlComponent(createInstance) {\n  function createElement(props, context) {\n    return {\n      instance: createInstance(props),\n      context\n    };\n  }\n\n  const useElement = createElementHook(createElement);\n  const useControl = createControlHook(useElement);\n  return createLeafComponent(useControl);\n}\nexport function createLayerComponent(createElement, updateElement) {\n  const useElement = createElementHook(createElement, updateElement);\n  const useLayer = createLayerHook(useElement);\n  return createContainerComponent(useLayer);\n}\nexport function createOverlayComponent(createElement, useLifecycle) {\n  const useElement = createElementHook(createElement);\n  const useOverlay = createDivOverlayHook(useElement, useLifecycle);\n  return createDivOverlayComponent(useOverlay);\n}\nexport function createPathComponent(createElement, updateElement) {\n  const useElement = createElementHook(createElement, updateElement);\n  const usePath = createPathHook(useElement);\n  return createContainerComponent(usePath);\n}\nexport function createTileLayerComponent(createElement, updateElement) {\n  const useElement = createElementHook(createElement, updateElement);\n  const useLayer = createLayerHook(useElement);\n  return createLeafComponent(useLayer);\n}","export function updateGridLayer(layer, props, prevProps) {\n  const {\n    opacity,\n    zIndex\n  } = props;\n\n  if (opacity != null && opacity !== prevProps.opacity) {\n    layer.setOpacity(opacity);\n  }\n\n  if (zIndex != null && zIndex !== prevProps.zIndex) {\n    layer.setZIndex(zIndex);\n  }\n}","import { createTileLayerComponent, updateGridLayer, withPane } from '@react-leaflet/core';\nimport { TileLayer as LeafletTileLayer } from 'leaflet';\nexport const TileLayer = createTileLayerComponent(function createTileLayer(_ref, context) {\n  let {\n    url,\n    ...options\n  } = _ref;\n  return {\n    instance: new LeafletTileLayer(url, withPane(options, context)),\n    context\n  };\n}, updateGridLayer);","import { createOverlayComponent } from '@react-leaflet/core';\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { useEffect } from 'react';\nexport const Popup = createOverlayComponent(function createPopup(props, context) {\n  return {\n    instance: new LeafletPopup(props, context.overlayContainer),\n    context\n  };\n}, function usePopupLifecycle(element, context, props, setOpen) {\n  const {\n    onClose,\n    onOpen,\n    position\n  } = props;\n  useEffect(function addPopup() {\n    const {\n      instance\n    } = element;\n\n    function onPopupOpen(event) {\n      if (event.popup === instance) {\n        instance.update();\n        setOpen(true);\n        onOpen == null ? void 0 : onOpen();\n      }\n    }\n\n    function onPopupClose(event) {\n      if (event.popup === instance) {\n        setOpen(false);\n        onClose == null ? void 0 : onClose();\n      }\n    }\n\n    context.map.on({\n      popupopen: onPopupOpen,\n      popupclose: onPopupClose\n    });\n\n    if (context.overlayContainer == null) {\n      // Attach to a Map\n      if (position != null) {\n        instance.setLatLng(position);\n      }\n\n      instance.openOn(context.map);\n    } else {\n      // Attach to container component\n      context.overlayContainer.bindPopup(instance);\n    }\n\n    return function removePopup() {\n      var _context$overlayConta;\n\n      context.map.off({\n        popupopen: onPopupOpen,\n        popupclose: onPopupClose\n      });\n      (_context$overlayConta = context.overlayContainer) == null ? void 0 : _context$overlayConta.unbindPopup();\n      context.map.removeLayer(instance);\n    };\n  }, [element, context, setOpen, onClose, onOpen, position]);\n});","import { createLayerComponent } from '@react-leaflet/core';\nimport { Marker as LeafletMarker } from 'leaflet';\nexport const Marker = createLayerComponent(function createMarker(_ref, ctx) {\n  let {\n    position,\n    ...options\n  } = _ref;\n  const instance = new LeafletMarker(position, options);\n  return {\n    instance,\n    context: { ...ctx,\n      overlayContainer: instance\n    }\n  };\n}, function updateMarker(marker, props, prevProps) {\n  if (props.position !== prevProps.position) {\n    marker.setLatLng(props.position);\n  }\n\n  if (props.icon != null && props.icon !== prevProps.icon) {\n    marker.setIcon(props.icon);\n  }\n\n  if (props.zIndexOffset != null && props.zIndexOffset !== prevProps.zIndexOffset) {\n    marker.setZIndexOffset(props.zIndexOffset);\n  }\n\n  if (props.opacity != null && props.opacity !== prevProps.opacity) {\n    marker.setOpacity(props.opacity);\n  }\n\n  if (marker.dragging != null && props.draggable !== prevProps.draggable) {\n    if (props.draggable === true) {\n      marker.dragging.enable();\n    } else {\n      marker.dragging.disable();\n    }\n  }\n});"],"sourceRoot":""}